(()=>{var t={119:()=>{console.log("\nScore можно посмотреть кликнув на цифры возле картинки.\nДополнительный функционал:\n  - управление игрой с клавиатуры (кнопки E, R, D, F, пробел) +5;\n  - возможность скачать картину на компьютер (в score) +5;\n")}},e={};function s(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,s),a.exports}(()=>{"use strict";s(119);const t=class{constructor(){this.title="Art Quiz"}render(){const t=document.createElement("h1");return t.classList.add("titleH1"),t.textContent=this.title,t.addEventListener("click",(()=>{window.location.hash=""})),t}},e=document.createElement("header");e.classList.add("header");class n{render(){for(;e.firstChild;)e.removeChild(e.firstChild);const s=(new t).render();s.addEventListener("click",(()=>{window.location.hash=""}));const n=document.createElement("img");n.classList.add("settings"),n.src="./assets/svg/settings.svg";const o=document.createElement("img");switch(o.classList.add("categories"),o.src="./assets/svg/categories.svg",o.addEventListener("click",(()=>{const t=window.location.hash.slice(0,window.location.hash.indexOf("/"));"#ArtistsQuiz"===t&&(window.location.hash="ArtistsQuiz/categories/"),"#PicturesQuiz"===t&&(window.location.hash="PicturesQuiz/categories/")})),window.location.hash){case"":e.append(n);break;default:e.append(s,n);break;case"#ArtistsQuiz/categories/questions/":case"#ArtistsQuiz/score/":case"#PicturesQuiz/categories/questions/":case"#PicturesQuiz/score/":e.append(s,o,n)}return e}}window.addEventListener("hashchange",(()=>{(new n).render()}));const o=n,a=class{constructor(t=""){this.text=t}render(){const t=document.createElement("button");return t.classList.add("button"),t.textContent=this.text,t}},c=class{constructor(t){this.title=t}render(){const t=document.createElement("h2");return t.classList.add("titleH2"),t.textContent=this.title,t}},i=class{constructor(t,e,s){this.subTitle=t,this.indexImg=e,this.numRound=s}render(){const t=document.createElement("div");t.classList.add("card"),t.dataset.numRound=this.numRound,t.dataset.indexImg=this.indexImg;const e=document.createElement("h3");e.classList.add("card__subTitle"),e.textContent=this.subTitle;const s=document.createElement("span");s.classList.add("card__num-completed");let n={};localStorage.getItem("answers")&&(n=JSON.parse(localStorage.getItem("answers"))),n[this.numRound]&&(s.textContent=`${n[this.numRound].filter((t=>t)).length} / 10`);const o=document.createElement("div");o.classList.add("card__text-container"),o.append(e,s);const a=document.createElement("img");a.classList.add("card__img"),a.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${this.indexImg}.jpg`;const c=document.createElement("div");return c.classList.add("card__img-container"),c.append(a),t.append(o,c),t}};let r=null,d=[],l=null,u=[];const m=[];let h=[],g=[],p=[];(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();r=e})();let _=null;(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();_=e})();let q=null,w=[],L=null,v=[];const E=[];let y=[];const S=[];let f=[],z=[];(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();q=e})();const b=document.createElement("main");b.classList.add("main");class k{render(){for(;b.firstChild;)b.removeChild(b.firstChild);const e=new class{render(){const e=document.createElement("div");e.classList.add("general");const s=new a("Artists quiz").render();s.classList.add("button-artist");const n=new a("Pictures quiz").render();n.classList.add("button-pictures");const o=(new t).render();return e.append(o,s,n),s.addEventListener("click",(()=>{window.location.hash="ArtistsQuiz/categories/",localStorage.setItem("hash","ArtistsQuiz/categories/")})),n.addEventListener("click",(()=>{window.location.hash="PicturesQuiz/categories/",localStorage.setItem("hash","PicturesQuiz/categories/")})),e}},s=new class{constructor(){this.nameSections=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"]}generatingQuestions(t){document.querySelector(".main").append(new class{constructor(t){this.numRound=+t}randomNum(t,e){return Math.round(Math.random()*(t-e)+e)}makeContent(){d=[],u=[],h=[],g=[],p=[];for(let t=10*this.numRound;u.length<10;t+=1)d.push(r[t].imageNum),u.push(r[t].author),m.push(r[t].author);for(;h.length<30;){const t=this.randomNum(0,r.length-1),e=u.includes(r[t].author),s=h.includes(r[t].author);e||s||h.push(r[t].author)}}render(){window.location.hash="ArtistsQuiz/categories/questions/";const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild),this.makeContent();const e=document.createElement("div");e.classList.add("artists-quiz-questions");const s=document.createElement("p");s.classList.add("artists-quiz-questions__title"),s.textContent="Кто автор данной картины?",document.createElement("div").classList.add("artists-quiz-questions__img-container");const n=document.createElement("img");n.classList.add("artists-quiz-questions__img"),[l]=d,console.log(`currentPicture ${l}`),n.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${d.shift()}.jpg`;const o=document.createElement("div");o.classList.add("artists-quiz-questions__buttons-container");const c=document.createElement("div");c.classList.add("artists-quiz-questions__buttons-container");const i=this.randomNum(0,3);console.log(`randomNumButton ${i}`);for(let t=0;t<4;t+=1){const e=new a("").render();e.classList.add("artists-quiz-questions__button"),e.dataset.numButton=t,t===i&&(g.push(t),e.textContent=u.shift()),t!==i&&(e.textContent=h.shift()),t<2?o.append(e):c.append(e)}const r=document.createElement("div");return r.classList.add("artists-quiz-questions__navigation"),r.append(o,c),e.append(s,n,r),r.addEventListener("click",(t=>{if(t.target.classList.contains("artists-quiz-questions__button")){const e=document.querySelectorAll(".artists-quiz-questions__button"),s=+t.target.dataset.numButton;s===g[g.length-1]?(p.push(!0),e[s].classList.add("artists-quiz-questions__button--right")):(p.push(!1),e[s].classList.add("artists-quiz-questions__button--wrong")),this.renderModal(t)}})),document.addEventListener("keydown",(t=>{if("#ArtistsQuiz/categories/questions/"===window.location.hash){t.preventDefault();const e=document.querySelector(".modal__next");if(e&&"Space"===t.code&&e.click(),!document.querySelector(".modal__img-congratulation")&&!e){const e=r.querySelectorAll(".artists-quiz-questions__button");"KeyE"===t.code&&e[0].click(),"KeyR"===t.code&&e[1].click(),"KeyD"===t.code&&e[2].click(),"KeyF"===t.code&&e[3].click()}}})),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("artists-quiz-questions__modal");const n=document.createElement("div");n.classList.add("modal__content");const o=document.createElement("img");o.classList.add("modal__right-or-wrong");const c=document.createElement("img");c.classList.add("modal__picture");const i=document.createElement("h5");i.classList.add("modal__name-picture");const r=document.createElement("h4");r.classList.add("modal__author-picture");const d=new a("Next").render();return d.classList.add("modal__next"),d.addEventListener("click",(()=>{s.style.display="none",0!==u.length?(s.remove(),this.nextImg(t)):this.openCongratulation();const e=document.querySelectorAll(".artists-quiz-questions__button");e.forEach(((t,s)=>{e[s].classList="button artists-quiz-questions__button"}))})),n.append(o,c,i,r,d),s.append(n),e.append(s),this.openModal(t),n}openCongratulation(){this.saveAnswersInLocalStorage();const t=document.querySelector(".modal__content");for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.createElement("img");e.classList.add("modal__img-congratulation"),e.src="./assets/svg/grandresult.svg";const s=document.createElement("h6");s.classList.add("modal__text-congratulation"),s.textContent="Congratulations!";const n=document.createElement("span");n.classList.add("modal__numbers-congratulation"),n.textContent=`\n    ${p.filter((t=>t)).length}/${p.length}\n    `;const o=new a("Home").render();o.classList.add("modal__button-home");const c=new a("Next Quiz").render();c.classList.add("modal__button-next-quiz");const i=document.createElement("div");i.classList.add("modal__buttons-container"),i.append(o,c),t.append(e,s,n,i);const r=document.querySelector(".artists-quiz-questions__modal");r.style.display="block",o.addEventListener("click",(()=>{r.style.display="none",window.location.hash="",r.remove()})),c.addEventListener("click",(()=>{r.style.display="none",window.location.hash="ArtistsQuiz/categories/",r.remove()}))}openModal(){console.log(p);const t=document.querySelector(".modal__right-or-wrong");p[p.length-1]?t.src="./assets/svg/right.svg":t.src="./assets/svg/wrong.svg",document.querySelector(".modal__picture").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${l}.jpg`,document.querySelector(".modal__name-picture").textContent=r[l].name,document.querySelector(".modal__author-picture").textContent=`${r[l].author}, ${r[l].year}`,document.querySelector(".artists-quiz-questions__modal").style.display="block"}nextImg(){[l]=d,console.log(`currentPicture ${l}`),document.querySelector(".artists-quiz-questions__img").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${d.shift()}.jpg`;const t=document.querySelectorAll(".artists-quiz-questions__button"),e=this.randomNum(0,3);t.forEach(((s,n)=>{n===e?(t[n].textContent=u.shift(),g.push(n)):t[n].textContent=h.shift()})),console.log(g)}saveAnswersInLocalStorage(){let t={};localStorage.getItem("answers")&&(t=JSON.parse(localStorage.getItem("answers"))),t[this.numRound]=p,localStorage.setItem("answers",JSON.stringify(t))}}(t).render())}render(){const t=JSON.parse(localStorage.getItem("answers")),e=document.createElement("div");e.classList.add("artists-quiz");const s=new c("Categories Artists Quiz").render(),n=document.createElement("div");n.classList.add("cards");for(let e=0;e<120;e+=10){const s=new i(this.nameSections[Math.ceil(e/10)],e,Math.ceil(e/10)).render(),o=e/10;t&&t[o]||s.classList.add("card__img--black"),n.append(s)}return e.append(s,n),e.addEventListener("click",(t=>{if(t.target.closest(".card__num-completed")){const{numRound:e}=t.target.closest(".card").dataset;localStorage.setItem("numRoundForScore",e),window.location.hash="ArtistsQuiz/score/"}t.target.closest(".card__img")&&this.generatingQuestions(t.target.closest(".card").dataset.numRound)})),e}},n=new class{constructor(){this.numRound=localStorage.getItem("numRoundForScore")}render(){const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild);const e=document.createElement("div");e.classList.add("score");const s=JSON.parse(localStorage.getItem("answers"));for(let t=10*this.numRound,n=0;t<10*this.numRound+10;t+=1,n+=1){const o=new i("",t,this.numRound).render();o.querySelector(".card__text-container").remove(),s[this.numRound][n]||o.classList.add("card__img--black"),e.append(o)}return e.addEventListener("click",(t=>this.renderModal(t))),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("score__modal"),s.style.display="block";const n=document.createElement("div");n.classList.add("modal__content");const o=t.target.closest(".card").dataset.indexImg,c=document.createElement("img");c.classList.add("modal__picture"),c.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${o}.jpg`;const i=document.createElement("h5");i.classList.add("modal__name-picture"),i.textContent=_[o].name;const r=document.createElement("h4");r.classList.add("modal__author-picture"),r.textContent=`${_[o].author}, ${_[o].year}`;const d=new a("Download").render();d.classList.add("modal__download");const l=new a("Close").render();l.classList.add("modal__close");const u=document.createElement("div");return u.classList.add("modal__buttons-container"),u.append(d,l),d.addEventListener("click",(()=>{const t=document.createElement("a");t.target="_blank",t.href=`https://github.com/NikitaKorevo/image-data/blob/master/full/${o}full.jpg`,t.click()})),l.addEventListener("click",(()=>{s.style.display="none",s.remove()})),n.append(c,i,r,u),s.append(n),e.append(s),n}},o=new class{constructor(){this.nameSections=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"]}generatingQuestions(t){document.querySelector(".main").append(new class{constructor(t){this.numRound=+t,console.log(t)}randomNum(t,e){return Math.round(Math.random()*(t-e)+e)}makeContent(){w=[],v=[],y=[],f=[],z=[];for(let t=10*this.numRound;v.length<10;t+=1)w.push(q[t].imageNum),v.push(q[t].author),E.push(q[t].author);for(console.log(v);y.length<30;){const t=this.randomNum(0,q.length-1),e=v.includes(q[t].author),s=y.includes(q[t].author);e||s||(y.push(q[t].author),S.push(t))}}render(){window.location.hash="PicturesQuiz/categories/questions/";const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild),this.makeContent();const e=document.createElement("div");e.classList.add("pictures-quiz-questions");const s=document.createElement("p");s.classList.add("pictures-quiz-questions__title"),s.textContent=`Какую картину написал ${v.shift()}?`,[L]=w;const n=document.createElement("div");n.classList.add("pictures-quiz-questions__buttons-container");const o=document.createElement("div");o.classList.add("pictures-quiz-questions__buttons-container");const a=this.randomNum(0,3);console.log(`randomNumButton ${a}`);for(let t=0;t<4;t+=1){const e=document.createElement("div");e.classList.add("pictures-quiz-questions__img-container");const s=document.createElement("img");s.classList.add("pictures-quiz-questions__button"),e.append(s),s.dataset.numButton=t,t===a&&(f.push(t),v.shift(),s.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${w.shift()}.jpg`),t!==a&&(y.shift(),s.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${S.shift()}.jpg`),t<2?n.append(e):o.append(e)}const c=document.createElement("div");return c.classList.add("pictures-quiz-questions__navigation"),c.append(n,o),e.append(s,c),c.addEventListener("click",(t=>{if(t.target.classList.contains("pictures-quiz-questions__button")){const e=document.querySelectorAll(".pictures-quiz-questions__button"),s=+t.target.dataset.numButton;s===f[f.length-1]?e[s].classList.add("pictures-quiz-questions__button--right"):e[s].classList.add("pictures-quiz-questions__button--wrong"),this.renderModal(t)}})),document.addEventListener("keydown",(t=>{if("#PicturesQuiz/categories/questions/"===window.location.hash){t.preventDefault(),console.log(t.code);const e=document.querySelector(".modal__next");if(e&&"Space"===t.code&&e.click(),!document.querySelector(".modal__img-congratulation")&&!e){const e=c.querySelectorAll(".pictures-quiz-questions__button");"KeyE"===t.code&&e[0].click(t),"KeyR"===t.code&&e[1].click(t),"KeyD"===t.code&&e[2].click(t),"KeyF"===t.code&&e[3].click(t)}}})),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("artists-quiz-questions__modal");const n=document.createElement("div");n.classList.add("modal__content");const o=document.createElement("img");o.classList.add("modal__right-or-wrong");const c=document.createElement("img");c.classList.add("modal__picture");const i=document.createElement("h5");i.classList.add("modal__name-picture");const r=document.createElement("h4");r.classList.add("modal__author-picture");const d=new a("Next").render();return d.classList.add("modal__next"),d.textContent="Next",d.addEventListener("click",(()=>{s.style.display="none",z.length<10?(s.remove(),this.nextImg(t)):this.openCongratulation();const e=document.querySelectorAll(".pictures-quiz-questions__button");e.forEach(((t,s)=>{e[s].classList="pictures-quiz-questions__button"}))})),n.append(o,c,i,r,d),s.append(n),e.append(s),this.openModal(t),n}openCongratulation(){this.saveAnswersInLocalStorage();const t=document.querySelector(".modal__content");for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.createElement("img");e.classList.add("modal__img-congratulation"),e.src="./assets/svg/grandresult.svg";const s=document.createElement("h6");s.classList.add("modal__text-congratulation"),s.textContent="Congratulations!";const n=document.createElement("span");n.classList.add("modal__numbers-congratulation"),n.textContent=`\n    ${z.filter((t=>t)).length}/${z.length}\n    `;const o=new a("Home").render();o.classList.add("modal__button-home");const c=new a("Next Quiz").render();c.classList.add("modal__button-next-quiz");const i=document.createElement("div");i.classList.add("modal__buttons-container"),i.append(o,c),t.append(e,s,n,i);const r=document.querySelector(".artists-quiz-questions__modal");r.style.display="block",o.addEventListener("click",(()=>{r.style.display="none",window.location.hash="",r.remove()})),c.addEventListener("click",(()=>{r.style.display="none",window.location.hash="PicturesQuiz/categories/",r.remove()}))}openModal(t){+t.target.dataset.numButton===f[f.length-1]?z.push(!0):z.push(!1),console.log(z);const e=document.querySelector(".modal__right-or-wrong");z[z.length-1]?e.src="./assets/svg/right.svg":e.src="./assets/svg/wrong.svg",document.querySelector(".modal__picture").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${L}.jpg`,document.querySelector(".modal__name-picture").textContent=q[L].name,document.querySelector(".modal__author-picture").textContent=`${q[L].author}, ${q[L].year}`,document.querySelector(".artists-quiz-questions__modal").style.display="block"}nextImg(){L=`${w[0]}`,document.querySelector(".pictures-quiz-questions__title").textContent=`Какую картину написал ${q[L].author}?`;const t=document.querySelectorAll(".pictures-quiz-questions__button"),e=this.randomNum(0,3);t.forEach(((s,n)=>{n===e?(v.shift(),f.push(n),t[n].src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${w.shift()}.jpg`):(y.shift(),t[n].src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${S.shift()}.jpg`)})),console.log(f)}saveAnswersInLocalStorage(){let t={};localStorage.getItem("answers")&&(t=JSON.parse(localStorage.getItem("answers"))),t[this.numRound]=z,localStorage.setItem("answers",JSON.stringify(t))}}(t).render())}render(){const t=JSON.parse(localStorage.getItem("answers")),e=document.createElement("div");e.classList.add("pictures-quiz");const s=new c("Categories Pictures Quiz").render(),n=document.createElement("div");n.classList.add("cards");for(let e=120,s=0;e<240;e+=10,s+=1){const o=new i(this.nameSections[s],e,Math.ceil(e/10)).render(),a=e/10;t&&t[a]||o.classList.add("card__img--black"),n.append(o)}return e.append(s,n),e.addEventListener("click",(t=>{if(t.target.closest(".card__num-completed")){const{numRound:e}=t.target.closest(".card").dataset;localStorage.setItem("numRoundForScore",e),window.location.hash="PicturesQuiz/score/"}t.target.closest(".card__img")&&this.generatingQuestions(t.target.closest(".card").dataset.numRound)})),e}};switch(window.location.hash){case"":b.append(e.render());break;case"#ArtistsQuiz/categories/":b.append(s.render());break;case"#ArtistsQuiz/score/":case"#PicturesQuiz/score/":setTimeout((()=>{b.append(n.render())}),0);break;case"#PicturesQuiz/categories/":b.append(o.render());break;default:window.location.hash=""}return b}}window.addEventListener("hashchange",(()=>{"#ArtistsQuiz/categories/questions/"!==window.location.hash&&"#PicturesQuiz/categories/questions/"!==window.location.hash&&(new k).render()}));const C=k,x=document.createElement("footer");x.classList.add("footer");const N=document.getElementById("root"),Q=new class{constructor(){this.title="title",this.h2=document.createElement("h2")}render(){const t=document.createElement("div");t.classList.add("wrapper");const e=new o,s=new C("asdf");t.append(e.render(),s.render(),class{static render(){const t=document.createElement("a");t.href="https://rs.school/",t.target="_blank";const e=document.createElement("img");e.classList.add("rsschool"),e.src="./assets/svg/RSSchool320.svg",t.append(e);const s=document.createElement("span");s.classList.add("year"),s.textContent="2021";const n=document.createElement("a");n.href="https://github.com/NikitaKorevo",n.target="_blank";const o=document.createElement("img");return o.classList.add("github"),o.src="./assets/svg/github.svg",n.append(o),x.append(t,s,n),x}}.render()),N.append(t)}};Q.render()})()})();