(()=>{"use strict";const t=class{constructor(){this.title="Art Quiz"}render(){const t=document.createElement("a");t.href="",t.classList.add("titleH1-link");const e=document.createElement("h1");return e.classList.add("titleH1"),e.textContent=this.title,t.append(e),t}},e=document.createElement("header");e.classList.add("header");class s{render(){for(;e.firstChild;)e.removeChild(e.firstChild);const s=(new t).render();s.addEventListener("click",(()=>{window.location.hash=""}));const n=document.createElement("img");n.classList.add("settings"),n.src="./assets/svg/settings.svg";const o=document.createElement("img");switch(o.classList.add("categories"),o.src="./assets/svg/categories.svg",o.addEventListener("click",(()=>{const t=window.location.hash.slice(0,window.location.hash.indexOf("/"));"#ArtistsQuiz"===t&&(window.location.hash="ArtistsQuiz/categories/"),"#PicturesQuiz"===t&&(window.location.hash="PicturesQuiz/categories/")})),window.location.hash){case"":e.append(n);break;default:e.append(s,n);break;case"#ArtistsQuiz/categories/questions/":case"#ArtistsQuiz/score/":case"#PicturesQuiz/categories/questions/":case"#PicturesQuiz/score/":e.append(s,o,n)}return e}}window.addEventListener("hashchange",(()=>{(new s).render()}));const n=s,o=class{constructor(t=""){this.text=t}render(){const t=document.createElement("button");return t.classList.add("button"),t.textContent=this.text,t}},a=class{constructor(t){this.title=t}render(){const t=document.createElement("h2");return t.classList.add("titleH2"),t.textContent=this.title,t}},c=class{constructor(t,e,s){this.subTitle=t,this.indexImg=e,this.numRound=s}render(){const t=document.createElement("div");t.classList.add("card"),t.dataset.numRound=this.numRound,t.dataset.indexImg=this.indexImg;const e=document.createElement("h3");e.classList.add("card__subTitle"),e.textContent=this.subTitle;const s=document.createElement("span");s.classList.add("card__num-completed");let n={};localStorage.getItem("answers")&&(n=JSON.parse(localStorage.getItem("answers"))),n[this.numRound]&&(s.textContent=`${n[this.numRound].filter((t=>t)).length} / 10`);const o=document.createElement("div");o.classList.add("card__text-container"),o.append(e,s);const a=document.createElement("img");a.classList.add("card__img"),a.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${this.indexImg}.jpg`;const c=document.createElement("div");return c.classList.add("card__img-container"),c.append(a),t.append(o,c),t}};let r=null,i=[],d=null,l=[];const u=[];let m=[],h=[],g=[];(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();r=e})();let p=null;(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();p=e})();let _=null,w=[],L=null,v=[];const E=[];let q=[];const f=[];let S=[],C=[];(async()=>{const t=await fetch("./assets/json/data.json"),e=await t.json();_=e,console.log(_)})();const z=document.createElement("main");z.classList.add("main");class y{render(){for(;z.firstChild;)z.removeChild(z.firstChild);const e=new class{render(){const e=document.createElement("div");e.classList.add("general");const s=new o("Artists quiz").render();s.classList.add("button-artist");const n=new o("Pictures quiz").render();n.classList.add("button-pictures");const a=(new t).render();return e.append(a,s,n),s.addEventListener("click",(()=>{window.location.hash="ArtistsQuiz/categories/",localStorage.setItem("hash","ArtistsQuiz/categories/")})),n.addEventListener("click",(()=>{window.location.hash="PicturesQuiz/categories/",localStorage.setItem("hash","PicturesQuiz/categories/")})),e}},s=new class{constructor(){this.nameSections=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"]}generatingQuestions(t){document.querySelector(".main").append(new class{constructor(t){this.numRound=+t,console.log(t)}randomNum(t,e){return Math.round(Math.random()*(t-e)+e)}makeContent(){i=[],l=[],m=[],h=[],g=[];for(let t=10*this.numRound;l.length<10;t+=1)i.push(r[t].imageNum),l.push(r[t].author),u.push(r[t].author);for(;m.length<30;){const t=this.randomNum(0,r.length-1),e=l.includes(r[t].author),s=m.includes(r[t].author);e||s||m.push(r[t].author)}}render(){window.location.hash="ArtistsQuiz/categories/questions/";const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild),this.makeContent();const e=document.createElement("div");e.classList.add("artists-quiz-questions");const s=document.createElement("p");s.classList.add("artists-quiz-questions__title"),s.textContent="Кто автор данной картины?",document.createElement("div").classList.add("artists-quiz-questions__img-container");const n=document.createElement("img");n.classList.add("artists-quiz-questions__img"),[d]=i,console.log(`currentPicture ${d}`),n.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${i.shift()}.jpg`;const o=document.createElement("div");o.classList.add("artists-quiz-questions__buttons-container");const a=document.createElement("div");a.classList.add("artists-quiz-questions__buttons-container");const c=this.randomNum(0,3);console.log(`randomNumButton ${c}`);for(let t=0;t<4;t+=1){const e=document.createElement("button");e.classList.add("artists-quiz-questions__button"),e.dataset.numButton=t,t===c&&(h.push(t),e.textContent=l.shift()),t!==c&&(e.textContent=m.shift()),t<2?o.append(e):a.append(e)}const r=document.createElement("div");return r.classList.add("artists-quiz-questions__navigation"),r.append(o,a),e.append(s,n,r),r.addEventListener("click",(t=>{t.target.classList.contains("artists-quiz-questions__button")&&this.renderModal(t)})),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("artists-quiz-questions__modal");const n=document.createElement("div");n.classList.add("modal__content");const o=document.createElement("img");o.classList.add("modal__right-or-wrong");const a=document.createElement("img");a.classList.add("modal__picture");const c=document.createElement("h5");c.classList.add("modal__name-picture");const r=document.createElement("h4");r.classList.add("modal__author-picture");const i=document.createElement("button");return i.classList.add("modal__next"),i.textContent="Next",i.addEventListener("click",(()=>{s.style.display="none",0!==l.length?(s.remove(),this.nextImg(t)):this.openCongratulation()})),n.append(o,a,c,r,i),s.append(n),e.append(s),this.openModal(t),n}openCongratulation(){this.saveAnswersInLocalStorage();const t=document.querySelector(".modal__content");for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.createElement("img");e.classList.add("modal__img-congratulation"),e.src="./assets/svg/grandresult.svg";const s=document.createElement("h6");s.classList.add("modal__text-congratulation"),s.textContent="Congratulations!";const n=document.createElement("span");n.classList.add("modal__numbers-congratulation"),n.textContent=`\n    ${g.filter((t=>t)).length}/${g.length}\n    `;const o=document.createElement("button");o.classList.add(".modal__button-home"),o.textContent="Home";const a=document.createElement("button");a.classList.add(".modal__button-next-quiz"),a.textContent="Next Quiz";const c=document.createElement("div");c.classList.add(".modal__buttons-container"),c.append(o,a),t.append(e,s,n,c);const r=document.querySelector(".artists-quiz-questions__modal");r.style.display="block",o.addEventListener("click",(()=>{r.style.display="none",window.location.hash="",r.remove()})),a.addEventListener("click",(()=>{r.style.display="none",window.location.hash="ArtistsQuiz/categories/",r.remove()}))}openModal(t){+t.target.dataset.numButton===h[h.length-1]?g.push(!0):g.push(!1),console.log(g);const e=document.querySelector(".modal__right-or-wrong");g[g.length-1]?e.src="./assets/svg/right.svg":e.src="./assets/svg/wrong.svg",document.querySelector(".modal__picture").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${d}.jpg`,document.querySelector(".modal__name-picture").textContent=r[d].name,document.querySelector(".modal__author-picture").textContent=`${r[d].author}, ${r[d].year}`,document.querySelector(".artists-quiz-questions__modal").style.display="block"}nextImg(){[d]=i,console.log(`currentPicture ${d}`),document.querySelector(".artists-quiz-questions__img").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${i.shift()}.jpg`;const t=document.querySelectorAll(".artists-quiz-questions__button"),e=this.randomNum(0,3);t.forEach(((s,n)=>{n===e?(t[n].textContent=l.shift(),h.push(n)):t[n].textContent=m.shift()})),console.log(h)}saveAnswersInLocalStorage(){let t={};localStorage.getItem("answers")&&(t=JSON.parse(localStorage.getItem("answers"))),t[this.numRound]=g,localStorage.setItem("answers",JSON.stringify(t))}}(t).render())}render(){const t=document.createElement("div");t.classList.add("artists-quiz");const e=new a("Categories Artists Quiz").render(),s=document.createElement("div");s.classList.add("cards");for(let t=0;t<120;t+=10){const e=new c(this.nameSections[Math.ceil(t/10)],t,Math.ceil(t/10)).render();s.append(e)}return t.append(e,s),t.addEventListener("click",(t=>{if(t.target.closest(".card__num-completed")){const{numRound:e}=t.target.closest(".card").dataset;localStorage.setItem("numRoundForScore",e),window.location.hash="ArtistsQuiz/score/"}t.target.closest(".card__img")&&this.generatingQuestions(t.target.closest(".card").dataset.numRound)})),t}},n=new class{constructor(){this.numRound=localStorage.getItem("numRoundForScore")}render(){const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild);const e=document.createElement("div");e.classList.add("score");const s=JSON.parse(localStorage.getItem("answers"));for(let t=10*this.numRound,n=0;t<10*this.numRound+10;t+=1,n+=1){const o=new c("",t,this.numRound).render();o.querySelector(".card__text-container").remove(),s[this.numRound][n]||o.classList.add("card__img--black"),e.append(o)}return e.addEventListener("click",(t=>this.renderModal(t))),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("score__modal"),s.style.display="block";const n=document.createElement("div");n.classList.add("modal__content");const o=t.target.closest(".card").dataset.indexImg,a=document.createElement("img");a.classList.add("modal__picture"),a.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${o}.jpg`;const c=document.createElement("h5");c.classList.add("modal__name-picture"),c.textContent=p[o].name;const r=document.createElement("h4");r.classList.add("modal__author-picture"),r.textContent=`${p[o].author}, ${p[o].year}`;const i=document.createElement("button");return i.classList.add("modal__next"),i.textContent="Закрыть",i.addEventListener("click",(()=>{s.style.display="none",s.remove()})),n.append(a,c,r,i),s.append(n),e.append(s),n}},y=new class{constructor(){this.nameSections=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"]}generatingQuestions(t){document.querySelector(".main").append(new class{constructor(t){this.numRound=+t,console.log(t)}randomNum(t,e){return Math.round(Math.random()*(t-e)+e)}makeContent(){w=[],v=[],q=[],S=[],C=[];for(let t=10*this.numRound;v.length<10;t+=1)w.push(_[t].imageNum),v.push(_[t].author),E.push(_[t].author);for(console.log(v);q.length<30;){const t=this.randomNum(0,_.length-1),e=v.includes(_[t].author),s=q.includes(_[t].author);e||s||(q.push(_[t].author),f.push(t))}}render(){window.location.hash="PicturesQuiz/categories/questions/";const t=document.querySelector(".main");t.firstChild&&t.removeChild(t.firstChild),this.makeContent();const e=document.createElement("div");e.classList.add("pictures-quiz-questions");const s=document.createElement("p");s.classList.add("pictures-quiz-questions__title"),s.textContent=`Какую картину написал ${v.shift()}?`,[L]=w;const n=document.createElement("div");n.classList.add("pictures-quiz-questions__buttons-container");const o=document.createElement("div");o.classList.add("pictures-quiz-questions__buttons-container");const a=this.randomNum(0,3);console.log(`randomNumButton ${a}`);for(let t=0;t<4;t+=1){const e=document.createElement("div");e.classList.add("pictures-quiz-questions__img-container");const s=document.createElement("img");s.classList.add("pictures-quiz-questions__button"),e.append(s),s.dataset.numButton=t,t===a&&(S.push(t),v.shift(),s.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${w.shift()}.jpg`),t!==a&&(q.shift(),s.src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${f.shift()}.jpg`),t<2?n.append(e):o.append(e)}const c=document.createElement("div");return c.classList.add("pictures-quiz-questions__navigation"),c.append(n,o),e.append(s,c),c.addEventListener("click",(t=>{t.target.classList.contains("pictures-quiz-questions__button")&&this.renderModal(t)})),e}renderModal(t){const e=document.querySelector(".wrapper"),s=document.createElement("div");s.classList.add("pictures-quiz-questions__modal");const n=document.createElement("div");n.classList.add("modal__content");const o=document.createElement("img");o.classList.add("modal__right-or-wrong");const a=document.createElement("img");a.classList.add("modal__picture");const c=document.createElement("h5");c.classList.add("modal__name-picture");const r=document.createElement("h4");r.classList.add("modal__author-picture");const i=document.createElement("button");return i.classList.add("modal__next"),i.textContent="Next",i.addEventListener("click",(()=>{s.style.display="none",C.length<10?(s.remove(),this.nextImg(t)):this.openCongratulation()})),n.append(o,a,c,r,i),s.append(n),e.append(s),this.openModal(t),n}openCongratulation(){this.saveAnswersInLocalStorage();const t=document.querySelector(".modal__content");for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.createElement("img");e.classList.add("modal__img-congratulation"),e.src="./assets/svg/grandresult.svg";const s=document.createElement("h6");s.classList.add("modal__text-congratulation"),s.textContent="Congratulations!";const n=document.createElement("span");n.classList.add("modal__numbers-congratulation"),n.textContent=`\n    ${C.filter((t=>t)).length}/${C.length}\n    `;const o=document.createElement("button");o.classList.add(".modal__button-home"),o.textContent="Home";const a=document.createElement("button");a.classList.add(".modal__button-next-quiz"),a.textContent="Next Quiz";const c=document.createElement("div");c.classList.add(".modal__buttons-container"),c.append(o,a),t.append(e,s,n,c);const r=document.querySelector(".pictures-quiz-questions__modal");r.style.display="block",o.addEventListener("click",(()=>{r.style.display="none",window.location.hash="",r.remove()})),a.addEventListener("click",(()=>{r.style.display="none",window.location.hash="PicturesQuiz/categories/",r.remove()}))}openModal(t){+t.target.dataset.numButton===S[S.length-1]?C.push(!0):C.push(!1),console.log(C);const e=document.querySelector(".modal__right-or-wrong");C[C.length-1]?e.src="./assets/svg/right.svg":e.src="./assets/svg/wrong.svg",document.querySelector(".modal__picture").src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${L}.jpg`,document.querySelector(".modal__name-picture").textContent=_[L].name,document.querySelector(".modal__author-picture").textContent=`${_[L].author}, ${_[L].year}`,document.querySelector(".pictures-quiz-questions__modal").style.display="block"}nextImg(){L=`${w[0]}`,document.querySelector(".pictures-quiz-questions__title").textContent=`Какую картину написал ${_[L].author}?`;const t=document.querySelectorAll(".pictures-quiz-questions__button"),e=this.randomNum(0,3);t.forEach(((s,n)=>{n===e?(v.shift(),S.push(n),t[n].src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${w.shift()}.jpg`):(q.shift(),t[n].src=`https://raw.githubusercontent.com/NikitaKorevo/image-data/master/img/${f.shift()}.jpg`)})),console.log(S)}saveAnswersInLocalStorage(){let t={};localStorage.getItem("answers")&&(t=JSON.parse(localStorage.getItem("answers"))),t[this.numRound]=C,localStorage.setItem("answers",JSON.stringify(t))}}(t).render())}render(){const t=document.createElement("div");t.classList.add("pictures-quiz");const e=new a("Categories Pictures Quiz").render(),s=document.createElement("div");s.classList.add("cards");for(let t=120,e=0;t<240;t+=10,e+=1){const n=new c(this.nameSections[e],t,Math.ceil(t/10)).render();s.append(n)}return t.append(e,s),t.addEventListener("click",(t=>{if(t.target.closest(".card__num-completed")){const{numRound:e}=t.target.closest(".card").dataset;localStorage.setItem("numRoundForScore",e),window.location.hash="PicturesQuiz/score/"}t.target.closest(".card__img")&&this.generatingQuestions(t.target.closest(".card").dataset.numRound)})),t}};switch(window.location.hash){case"":console.log("1"),z.append(e.render());break;case"#ArtistsQuiz/categories/":console.log("2"),z.append(s.render());break;case"#ArtistsQuiz/score/":case"#PicturesQuiz/score/":setTimeout((()=>{z.append(n.render())}),0);break;case"#PicturesQuiz/categories/":console.log("3"),z.append(y.render());break;default:window.location.hash=""}return z}}window.addEventListener("hashchange",(()=>{console.log(window.location.hash),"#ArtistsQuiz/categories/questions/"!==window.location.hash&&"#PicturesQuiz/categories/questions/"!==window.location.hash&&((new y).render(),console.log("Hash change!"))}));const b=y,x=document.createElement("footer");x.classList.add("footer");const k=document.getElementById("root"),N=new class{constructor(){this.title="title",this.h2=document.createElement("h2")}render(){const t=document.createElement("div");t.classList.add("wrapper");const e=new n,s=new b("asdf");t.append(e.render(),s.render(),class{static render(){const t=document.createElement("a");t.href="https://rs.school/",t.target="_blank";const e=document.createElement("img");e.classList.add("rsschool"),e.src="./assets/svg/RSSchool320.svg",t.append(e);const s=document.createElement("span");s.classList.add("year"),s.textContent="2021";const n=document.createElement("a");n.href="https://github.com/NikitaKorevo",n.target="_blank";const o=document.createElement("img");return o.classList.add("github"),o.src="./assets/svg/github.svg",n.append(o),x.append(t,s,n),x}}.render()),k.append(t)}};N.render()})();